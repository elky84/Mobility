# 설계

## 회원을 두종류로 분류
- 사용자
  - 택시 호출이 가능하다.
- 드라이버
  - 택시 정보를 등록
  - 위치 동기화
  - 택시 호출에 응답 가능

## 택시
- 드라이버만 택시를 등록할 수 있게 해, 단일 연관 관계를 맺었다.

## 호출 데이터는 한 건당, 한명의 사용자/드라이버와 연관이 되어야 함
- 호출 데이터 생성시에는 사용자와만 매칭 되어야함.
- 드라이버는 호출 응답시에 매칭됨.
  - 드라이버는 하나의 호출만 응답 가능함.
  - 호출 응답후에는 완료 전에는 다른 응답을 할 수 없음.
- 사용자는 하나의 대기중인 응답만 가질 수 있음.
  - 완료후에만 다른 호출이 가능.

## 각 제약에 대한 검증은 DB 관계 구조와 비지니스 로직에 분산되어 구현되어 있음.
- DB로 모든 제약을 처리하기 어렵기 때문에, 최대한 비지니스 로직에서의 검증을 목표로 구성했으며, DB에서의 검증은 최소한의 방어 수단으로 규정했다.


# 최종적인 연관 관계
- 택시-멤버(드라이버) [1-1관계]
- 호출-택시 [1-1관계]
- 호출-멤버(사용자) [1-1관계]